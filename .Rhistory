mutate(overallRating = if_else(overallRating == 'Very Dissatisfied', 'Dissatisfied', overallRating)) %>%
mutate(overallRating = factor(overallRating, levels = c('Dissatisfied', 'Neutral', 'Satisfied'))) %>%
mutate(ageGroup = factor(ageGroup, c('16 - 25', '26 - 35', '36 - 45', '46 - 65', '65+'))) %>%
mutate(department = str_remove(department, '^\\w*-')) %>%
mutate(month = month(start, label = TRUE)) %>%
mutate(year = as.integer(year(start))) %>%
mutate(day = day(start)) %>%
select(patId, day, month, year, overallRating, ageGroup, reUse, Site, department, comments, start)
df = tibble()
# fill table
for (i in 1:length(unique(data()$overallRating))){
for (j in 1:length(unique(data()$Site))){
count = data() %>%
select(Site,overallRating) %>%
filter(overallRating == unique(unfactor(overallRating))[i]) %>%
filter(Site == unique(Site)[j]) %>%
nrow()
df[j,i] = count
}
colnames(df) = unique(data()$year)
}
df = tibble()
# fill table
for (i in 1:length(unique(data_input$overallRating))){
for (j in 1:length(unique(data_input$Site))){
count = data_input %>%
select(Site,overallRating) %>%
filter(overallRating == unique(unfactor(overallRating))[i]) %>%
filter(Site == unique(Site)[j]) %>%
nrow()
df[j,i] = count
}
colnames(df) = unique(data_input$year)
}
library(varhandle)
df = tibble()
# fill table
for (i in 1:length(unique(data_input$overallRating))){
for (j in 1:length(unique(data_input$Site))){
count = data_input %>%
select(Site,overallRating) %>%
filter(overallRating == unique(unfactor(overallRating))[i]) %>%
filter(Site == unique(Site)[j]) %>%
nrow()
df[j,i] = count
}
colnames(df) = unique(data_input$year)
}
View(df)
df %>%
mutate(Site = unique(data_input$Site)) %>%
select(Site, everything()) %>%
mutate(Total = as.integer(rowSums(df)))
data_input %>%
filter(year == 2021,
Site == 'RLH')
df = tibble()
# fill table
for (i in 1:length(unique(data_input$year))){
for (j in 1:length(unique(data_input$Site))){
count = data_input %>%
select(Site,year) %>%
filter(year == unique(unfactor(year))[i]) %>%
filter(Site == unique(Site)[j]) %>%
nrow()
df[j,i] = count
}
colnames(df) = unique(data_input$year)
}
df = tibble()
# fill table
for (i in 1:length(unique(data_input$year))){
for (j in 1:length(unique(data_input$Site))){
count = data_input %>%
select(Site,year) %>%
filter(year == unique(year)[i]) %>%
filter(Site == unique(Site)[j]) %>%
nrow()
df[j,i] = count
}
colnames(df) = unique(data_input$year)
}
df %>%
mutate(Site = unique(data_input$Site)) %>%
select(Site, everything()) %>%
mutate(Total = as.integer(rowSums(df)))
data_input %>%
filter(year == 2021,
Site == 'RLH')
data_input %>%
filter(year == 2021,
Site == 'RLH') %>%
nrow()
data_input %>%
filter(year == 2022,
Site == 'RLH') %>%
nrow()
df[i,j] = count
df[j,i] = count
df = tibble()
# fill table
for (i in 1:length(unique(data_input$year))){
for (j in 1:length(unique(data_input$Site))){
count = data_input %>%
select(Site,year) %>%
filter(year == unique(year)[i]) %>%
filter(Site == unique(Site)[j]) %>%
nrow()
df[j,i] = count
}
colnames(df) = unique(data_input$year)
}
df %>%
mutate(Site = unique(data_input$Site)) %>%
select(Site, everything()) %>%
mutate(Total = as.integer(rowSums(df)))
data_input %>%
filter(year == 2022,
Site == 'AUH') %>%
nrow()
data_input %>%
filter(year == 2021,
Site == 'AUH') %>%
nrow()
data_input %>%
filter(year == 2020,
Site == 'AUH') %>%
nrow()
data_input %>%
filter(year == 2020,
Site == 'BGH') %>%
nrow()
data_input %>%
filter(year == 2021,
Site == 'BGH') %>%
nrow()
data_input %>%
filter(year == 2022,
Site == 'BGH') %>%
nrow()
data_input %>%
filter(year == 2022,
Site == 'LUH') %>%
nrow()
data_input %>%
filter(year == 2021,
Site == 'LUH') %>%
nrow()
data_input %>%
filter(year == 2020,
Site == 'LUH') %>%
nrow()
data_input %>%
filter(year == 2020,
Site == 'other') %>%
nrow()
data_input %>%
filter(year == 2020,
Site == 'Other') %>%
nrow()
data_input %>%
filter(year == 2021,
Site == 'Other') %>%
nrow()
data_input %>%
filter(year == 2022,
Site == 'Other') %>%
nrow()
# fill table
for (i in 1:length(unique(data_input$year))){
for (j in 1:length(unique(data_input$Site))){
count = data_input %>%
select(Site,year) %>%
filter(year == unique(year)[j]) %>%
filter(Site == unique(Site)[i]) %>%
nrow()
df[j,i] = count
}
colnames(df) = unique(data_input$year)
}
df %>%
mutate(Site = unique(data_input$Site)) %>%
select(Site, everything()) %>%
mutate(Total = as.integer(rowSums(df)))
# fill table
for (i in 2:length(unique(data_input$year))){
for (j in 1:length(unique(data_input$Site))){
count = data_input %>%
select(Site,year) %>%
filter(year == unique(year)[i]) %>%
filter(Site == unique(Site)[j]) %>%
nrow()
df[j,i] = count
}
colnames(df) = unique(data_input$year)
}
df %>%
mutate(Site = unique(data_input$Site)) %>%
select(Site, everything()) %>%
mutate(Total = as.integer(rowSums(df)))
df = tibble()
# fill table
for (i in 2:length(unique(data_input$year))){
for (j in 2:length(unique(data_input$Site))){
count = data_input %>%
select(Site,year) %>%
filter(year == unique(year)[i]) %>%
filter(Site == unique(Site)[j]) %>%
nrow()
df[j,i] = count
}
colnames(df) = unique(data_input$year)
}
df = tibble()
# fill table
for (i in 2:length(unique(data_input$year))){
for (j in 2:length(unique(data_input$Site))){
count = data_input %>%
select(Site,year) %>%
filter(year == unique(year)[i]) %>%
filter(Site == unique(Site)[j]) %>%
nrow()
df[j,i] = count
}
colnames(df) = unique(data_input$year)[2:,]
df = tibble()
# fill table
for (i in 2:length(unique(data_input$year))){
for (j in 2:length(unique(data_input$Site))){
count = data_input %>%
select(Site,year) %>%
filter(year == unique(year)[i]) %>%
filter(Site == unique(Site)[j]) %>%
nrow()
df[j,i] = count
}
colnames(df) = unique(data_input$year)[2:]
colnames(df) = unique(data_input$year)[2:length(data_input$year)]
# fill table
for (i in 2:length(unique(data_input$year))){
for (j in 2:length(unique(data_input$Site))){
count = data_input %>%
select(Site,year) %>%
filter(year == unique(year)[i]) %>%
filter(Site == unique(Site)[j]) %>%
nrow()
df[j,i] = count
}
colnames(df) = unique(data_input$year)[2:length(data_input$year)]
}
df = tibble()
# fill table
for (i in 2:length(unique(data_input$year))){
for (j in 2:length(unique(data_input$Site))){
count = data_input %>%
select(Site,year) %>%
filter(year == unique(year)[i]) %>%
filter(Site == unique(Site)[j]) %>%
nrow()
df[j,i] = count
}
colnames(df) = unique(data_input$year)[2:length(data_input$year)]
}
df = tibble()
# fill table
for (i in 2:length(unique(data_input$year))){
for (j in 2:length(unique(data_input$Site))){
count = data_input %>%
select(Site,year) %>%
filter(year == unique(year)[i]) %>%
filter(Site == unique(Site)[j]) %>%
nrow()
df[j,i] = count
}
#colnames(df) = unique(data_input$year)
}
df = tibble()
# fill table
for (j in 1:length(unique(data_input$Site))){
for (i in 1:length(unique(data_input$year))){
count = data_input %>%
select(Site,year) %>%
filter(year == unique(year)[i]) %>%
filter(Site == unique(Site)[j]) %>%
nrow()
df[j,i] = count
}
#colnames(df) = unique(data_input$year)
}
df %>%
mutate(Site = unique(data_input$Site)) %>%
select(Site, everything()) %>%
mutate(Total = as.integer(rowSums(df)))
unique(data_input[1])
unique(data_input$year[1])
unique(data_input$year[2])
unique(data_input$year[2])
unique(data_input$year[3])
data_input =  read_csv('rawData/raw_data.csv') %>%
rename(patId = "Respondent ID") %>%
rename(colId = "Collector ID") %>%
rename(start = "Start Date") %>%
rename(end = "End Date") %>%
rename(ageGroup = "What age group do you belong?") %>%
rename(accessRating = "Please rate the ease of use for accessing the Video Consultation today?") %>%
rename(overallRating = "Please rate your overall experience of the Video Consultation today?") %>%
rename(reUse = "Would you be happy to use the Video Consultation again?") %>%
rename(comments = "Please provide us with any additional comments/ suggestions.") %>%
rename(department = "Waiting Area") %>%
mutate(Site = 'Other') %>%
mutate(Site = if_else(str_detect(department, 'RLH') == TRUE, 'RLH', Site)) %>%
mutate(Site = if_else(str_detect(department,'AUH') == TRUE, 'AUH', Site)) %>%
mutate(Site = if_else(str_detect(department,'LUH') == TRUE, 'LUH', Site)) %>%
mutate(Site = if_else(str_detect(department,'BGH') == TRUE, 'BGH', Site)) %>%
mutate(accessRating = str_replace(accessRating, 'Neither Satisfied nor Dissatisfied', 'Neutral')) %>%
mutate(overallRating = str_replace(overallRating, 'Neither Satisfied nor Dissatisfied', 'Neutral')) %>%
mutate(overallRating = if_else(overallRating == 'Very Satisfied', 'Satisfied', overallRating)) %>%
mutate(overallRating = if_else(overallRating == 'Very Dissatisfied', 'Dissatisfied', overallRating)) %>%
mutate(overallRating = factor(overallRating, levels = c('Dissatisfied', 'Neutral', 'Satisfied'))) %>%
mutate(ageGroup = factor(ageGroup, c('16 - 25', '26 - 35', '36 - 45', '46 - 65', '65+'))) %>%
mutate(department = str_remove(department, '^\\w*-')) %>%
mutate(month = month(start, label = TRUE)) %>%
mutate(year = as.integer(year(start))) %>%
mutate(day = day(start)) %>%
select(patId, day, month, year, overallRating, ageGroup, reUse, Site, department, comments, start)
unique(data_input$year)
unique(data_input$year[1])
unique(data_input$year[2])
unique(data_input$year[3])
unique(data_input$year)[1]
unique(data_input$year)[2]
unique(data_input$year)[3]
unique(data_input$Site)[3]
unique(data_input$Site)[1]
unique(data_input$Site)[2]
unique(data_input$Site)[3]
unique(data_input$Site)[4]
unique(data_input$Site)[5]
df = tibble()
# fill table
for (j in 1:length(unique(data_input$Site))){
for (i in 1:length(unique(data_input$year))){
count = data_input %>%
select(Site,year) %>%
filter(year == unique(year)[j]) %>%
filter(Site == unique(Site)[i]) %>%
nrow()
df[j,i] = count
}
#colnames(df) = unique(data_input$year)
}
df %>%
mutate(Site = unique(data_input$Site)) %>%
select(Site, everything()) %>%
mutate(Total = as.integer(rowSums(df)))
df = tibble()
# fill table
for (j in 1:length(unique(data_input$Site))){
for (i in 1:length(unique(data_input$year))){
count = data_input %>%
select(Site,year) %>%
filter(year == unique(year)[j]) %>%
filter(Site == unique(Site)[i]) %>%
nrow()
df[i,j] = count
}
#colnames(df) = unique(data_input$year)
}
df %>%
mutate(Site = unique(data_input$Site)) %>%
select(Site, everything()) %>%
mutate(Total = as.integer(rowSums(df)))
View(df)
View(df)
1:length(unique(data_input$Site))
df = tibble()
# fill table
for (j in 1:length(unique(data_input$Site))){
for (i in 1:length(unique(data_input$year))){
count = data_input %>%
select(Site,year) %>%
filter(year == unique(year)[i]) %>%
filter(Site == unique(Site)[j]) %>%
nrow()
df[i,j] = count
}
#colnames(df) = unique(data_input$year)
}
View(df)
df = tibble()
# fill table
for (j in 1:length(unique(data_input$Site))){
for (i in 1:length(unique(data_input$year))){
count = data_input %>%
select(Site,year) %>%
filter(Site == unique(Site)[j]) %>%
filter(year == unique(year)[i]) %>%
nrow()
df[i,j] = count
}
#colnames(df) = unique(data_input$year)
}
View(df)
View(df)
df = tibble()
# fill table
for (j in 1:length(unique(data_input$Site))){
for (i in 1:length(unique(data_input$year))){
count = data_input %>%
select(Site,year) %>%
filter(Site == unique(Site)[j]) %>%
filter(year == unique(year)[i]) %>%
nrow()
df[i,j] = count
}
colnames(df) = unique(data_input$Site)
}
df %>%
mutate(Site = unique(data_input$Site)) %>%
select(Site, everything()) %>%
mutate(Total = as.integer(rowSums(df)))
df %>%
mutate(Year = unique(data_input$year)) %>%
select(Year, everything()) %>%
mutate(Total = as.integer(rowSums(df)))
data_input %>%
filter(year == 2022,
Site == 'Other') %>%
nrow()
data_input$Site[1]
data_input$Site[2]
data_input$Site[3]
for (i in 1:5){
for (j in 1:3){
data_input %>%
filter(Site == unique(Site)[i],
year == unique(year[j])) %>%
prin(nrow)
}
}
for (i in 1:5){
for (j in 1:3){
data_input %>%
filter(Site == unique(Site)[i],
year == unique(year[j])) %>%
print(nrow)
}
}
for (i in 1:5){
for (j in 1:3){
data_input %>%
filter(Site == unique(Site)[i],
year == unique(year)[j]) %>%
nrow()
}
}
for (i in 1:5){
for (j in 1:3){
data_input %>%
filter(Site == unique(Site)[i],
year == unique(year)[j]) %>%
print(nrow())
}
}
for (i in 1:5){
for (j in 1:3){
print(data_input %>%
filter(Site == unique(Site)[i],
year == unique(year)[j]) %>%
nrow())
}
}
for (i in 1:length(unique(Site))){
for (j in 1:length(unique(year))){
print(data_input %>%
filter(Site == unique(Site)[i],
year == unique(year)[j]) %>%
nrow())
}
}
for (j in 1:length(unique(data_input$year))){
print(data_input %>%
filter(Site == unique(Site)[i],
year == unique(year)[j]) %>%
nrow())
}
for (i in 1:length(unique(data_input$Site))){
for (j in 1:length(unique(data_input$year))){
print(data_input %>%
filter(Site == unique(Site)[i],
year == unique(year)[j]) %>%
nrow())
}
}
df = tibble()
for (i in 1:length(unique(data_input$Site))){
for (j in 1:length(unique(data_input$year))){
count = data_input %>%
filter(Site == unique(Site)[i],
year == unique(year)[j]) %>%
nrow())
for (i in 1:length(unique(data_input$Site))){
for (j in 1:length(unique(data_input$year))){
count = data_input %>%
filter(Site == unique(Site)[i],
year == unique(year)[j]) %>%
nrow()
df[i,j] = count
}
}
View(df)
View(df)
